<div class="insideContainer">
    <mat-card class="my-3 mx-auto bch breadcrum-card">
        <mat-card-content>
            <div class="d-flex justify-content-between mb-1">
                <div>
                    <!-- <app-breadcrumb [breadCrumb]="breadCrumb"></app-breadcrumb> -->
                    <p class="f-20-m pb-2">{{headTitle}}</p>
                    <p class="f-14-r-07">{{subTitle}}</p>
                </div>
                <img src="../../../assets/images/bch-widget.svg">
            </div>
        </mat-card-content>
    </mat-card>
    <mat-card class="mx-auto my-3 search-card">
        <div class="d-flex justify-content-between align-items-center p-3">
            <div class="mt-2">
                <mat-form-field appearance="outline" class="search-field">
                    <input matInput placeholder="Search" (keyup)="applyFilter($event)" autocomplate="off">
                    <mat-icon matSuffix color="accent">search</mat-icon>
                </mat-form-field>
            </div>
            <button mat-flat-button color="accent" *ngIf="tableID == 'GET_MERCHANT_DETAILS'" (click)="newRow(tableID)"
                class="mb-3">
                <mat-icon class="material-symbols-outlined">add</mat-icon>Add Outlets</button>

            <button mat-flat-button color="accent" *ngIf="tableID == 'GET_ROLES'" (click)="newRow(tableID)"
                class="mb-3">
                <mat-icon class="material-symbols-outlined">add</mat-icon>New Roles</button>
        </div>

    </mat-card>
    <div>
        <mat-card>
            <mat-card-content>


                <table mat-table [dataSource]="dataSource" class=" mat-elevation-z2 addrowTable mt-2" matSort
                    #commonTableSort="matSort">
                    @for (column of displayedColumns; track column) {
                    <ng-container matColumnDef="{{column}}">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header><span class="font-md weight-medium ">{{
                                columnName[column] }}</span></th>
                        <td mat-cell *matCellDef="let element;let i = index" class="table-text">
                            <ng-container *ngIf="column === 'action'">
                                <button mat-icon-button (click)="editRow(tableID, element)"
                                    *ngIf="tableID !=  'GET_PRIVILEGES'">
                                    <mat-icon>edit</mat-icon>
                                </button>
                                <button mat-icon-button (click)="readRow(tableID, element)"
                                    *ngIf="tableID == 'GET_PRIVILEGES'">
                                    <mat-icon>open_in_new</mat-icon>
                                </button>
                            </ng-container>
                            <ng-container *ngIf="column === 'amount'">
                                {{ element[column] | currency:'INR' }}
                            </ng-container>
                            <ng-container *ngIf="column === 'sno'">
                                {{i+1}}
                            </ng-container>
                            <!-- [ngClass]="{
                            'active-status': element[column] === 'ACTIVE',
                            'blocked-status': element[column] === 'BLOCKED',
                            'inactive-status': element[column] === 'PENDING'
                          }" -->
                            <ng-container *ngIf="column === 'status'">
                                {{ element[column] }}
                            </ng-container>
                            <ng-container *ngIf="column === 'active' && element[column] === false;">
                                Inactive
                            </ng-container>
                            <ng-container *ngIf="column === 'dateAndTime'">
                                {{ element[column] | date: 'short' }}
                            </ng-container>
                            <ng-container *ngIf="column ==='ruleCreatedDate' || column ==='statusDate'">
                                {{ element[column] | date:'short' }}
                            </ng-container>
                            <ng-container *ngIf="column ==='emailId' || column ==='mobile'">
                            </ng-container>
                            <ng-container
                                *ngIf="column !='emailId' &&  column !== 'action' && column !== 'mobile' && column !== 'status' ">
                                {{ element[column] }}
                            </ng-container>
                        </td>
                    </ng-container>
                    }

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>

                <mat-paginator [pageSizeOptions]="[5, 10,25,50, 100]" #commonTablePaginator [pageIndex]="pageIndex"
                    [pageSize]="pageSize" [length]="totalElements" showFirstLastButtons class=" p-14-v2">
                </mat-paginator>
            </mat-card-content>
        </mat-card>
    </div>
</div>