<div class="sidenav-wrapper">
  <!-- Mobile Hamburger -->
  <button mat-icon-button class="mobile-hamburger" *ngIf="isMobile && isCollapsed" (click)="toggleSidenav()">
    <i class="bi bi-list"></i>
  </button>

  <!-- Main Sidenav -->
  <nav class="sidenav" [class.collapsed]="isCollapsed" [class.mobile-open]="!isCollapsed && isMobile">
    <!-- Logo -->
    <div class="logo-section">
      <img src="../../../assets/Images/Zeste Logo White Text 1.jpg" alt="Toucan" class="logo-img" />
      <span class="logo-text" *ngIf="!isCollapsed">Zeste</span>
    </div>

    <!-- Menu Container -->
    <div class="menu-container">
      <!-- GENERAL -->
      <div class="menu-group">
        <span class="group-label" *ngIf="!isCollapsed">GENERAL</span>
        <ul class="menu-list">
          <li class="menu-item" [class.active]="selectedMenu === 'dashboard'" (click)="selectMenu('dashboard')">
            <i class="bi bi-speedometer2"></i>
            <span *ngIf="!isCollapsed">Dashboard</span>
          </li>
          <li class="menu-item" (click)="selectMenu('institution')">
            <i class="bi bi-building"></i>
            <span *ngIf="!isCollapsed">Institution</span>
          </li>
          <li class="menu-item has-submenu" [class.active]="selectedMenu === 'iam'" (click)="toggleSubmenu('iam')">
            <i class="bi bi-shield-lock"></i>
            <span *ngIf="!isCollapsed">IAM</span>
            <i class="bi bi-chevron-right submenu-arrow" *ngIf="!isCollapsed"></i>
          </li>
        </ul>
      </div>

      <!-- APPLICATION -->
      <div class="menu-group">
        <span class="group-label" *ngIf="!isCollapsed">APPLICATION</span>
        <ul class="menu-list">
          <li class="menu-item" (click)="selectMenu('configurations')">
            <i class="bi bi-gear"></i>
            <span *ngIf="!isCollapsed">Configurations</span>
          </li>
          <li class="menu-item" (click)="selectMenu('accounting')">
            <i class="bi bi-calculator"></i>
            <span *ngIf="!isCollapsed">Accounting</span>
          </li>
          <li class="menu-item" (click)="selectMenu('inventory')">
            <i class="bi bi-box"></i>
            <span *ngIf="!isCollapsed">Inventory</span>
          </li>
          <li class="menu-item" (click)="selectMenu('crm')">
            <i class="bi bi-people"></i>
            <span *ngIf="!isCollapsed">CRM</span>
          </li>
          <li class="menu-item" (click)="selectMenu('card-balance')">
            <i class="bi bi-credit-card"></i>
            <span *ngIf="!isCollapsed">Card Balance</span>
          </li>
          <li class="menu-item" (click)="selectMenu('card-closure')">
            <i class="bi bi-x-circle"></i>
            <span *ngIf="!isCollapsed">Card Closure</span>
          </li>
          <li class="menu-item" (click)="selectMenu('reports')">
            <i class="bi bi-file-earmark-text"></i>
            <span *ngIf="!isCollapsed">Reports</span>
          </li>
        </ul>
      </div>

      <!-- MISCELLANEOUS -->
      <div class="menu-group">
        <span class="group-label" *ngIf="!isCollapsed">MISCELLANEOUS</span>
        <ul class="menu-list">
          <li class="menu-item" (click)="selectMenu('audit-logs')">
            <i class="bi bi-journal-text"></i>
            <span *ngIf="!isCollapsed">Audit Logs</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- Collapse Toggle -->
    <div class="collapse-toggle" (click)="toggleSidenav()">
      <i class="bi" [class.bi-chevron-left]="!isCollapsed" [class.bi-chevron-right]="isCollapsed"></i>
    </div>
  </nav>

  <!-- Overlay -->
  <div class="overlay" *ngIf="isMobile && !isCollapsed" (click)="toggleSidenav()"></div>
</div>