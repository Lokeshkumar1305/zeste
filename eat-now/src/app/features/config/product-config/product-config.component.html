<div class="config-container">
    <header class="config-header justify-between flex items-center">
        <div>
            <h1>{{ 'PRODUCT_CONFIG.TITLE' | translate }}</h1>
            <p>{{ 'PRODUCT_CONFIG.DESCRIPTION' | translate }}</p>
        </div>
        <button mat-flat-button color="primary" (click)="showAddForm = !showAddForm" class="btn-primary-custom">
            <mat-icon>add</mat-icon>
            {{ 'PRODUCT_CONFIG.ADD_NEW' | translate }}
        </button>
    </header>

    <!-- Add Form -->
    <mat-card class="premium-card mb-6" *ngIf="showAddForm">
        <mat-card-header>
            <mat-card-title>Quick Add Product</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="add-form-grid">
                <mat-form-field appearance="outline">
                    <mat-label>{{ 'PRODUCT_CONFIG.PRODUCT_NAME' | translate }}</mat-label>
                    <input matInput [(ngModel)]="newProduct.name">
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>{{ 'PRODUCT_CONFIG.CATEGORY' | translate }}</mat-label>
                    <mat-select [(ngModel)]="newProduct.category">
                        <mat-option *ngFor="let cat of categories" [value]="cat">{{cat}}</mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>{{ 'PRODUCT_CONFIG.PRICE' | translate }}</mat-label>
                    <input matInput type="number" [(ngModel)]="newProduct.price">
                </mat-form-field>

                <div class="flex items-center gap-3">
                    <button mat-flat-button color="primary" (click)="addProduct()">Save Product</button>
                    <button mat-button (click)="showAddForm = false">Cancel</button>
                </div>
            </div>
        </mat-card-content>
    </mat-card>

    <!-- Product List -->
    <mat-card class="premium-card">
        <div class="table-responsive">
            <table class="config-table">
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Category</th>
                        <th>Price</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let product of products">
                        <td>
                            <div class="product-info">
                                <div class="product-avatar">{{product.name[0]}}</div>
                                <span class="font-medium">{{product.name}}</span>
                            </div>
                        </td>
                        <td><span class="badge secondary">{{product.category}}</span></td>
                        <td><strong>â‚¹{{product.price}}</strong></td>
                        <td>
                            <mat-slide-toggle [checked]="product.active" (change)="toggleActive(product)"
                                color="primary">
                                {{ product.active ? 'Active' : 'Inactive' }}
                            </mat-slide-toggle>
                        </td>
                        <td>
                            <div class="action-buttons">
                                <button mat-icon-button color="primary"><mat-icon>edit</mat-icon></button>
                                <button mat-icon-button color="warn"
                                    (click)="deleteProduct(product.id)"><mat-icon>delete</mat-icon></button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </mat-card>
</div>